include(ExternalProject)

# set to root variables
macro(set_project_var name)
  set(${name} ${ARGN})
  set(${name} ${ARGN} PARENT_SCOPE)
endmacro()

macro(append_project_var name)
  set_project_var(${name} ${${name}} ${ARGN})
endmacro()

add_custom_target(vendor)
add_custom_target(vendor_product)
add_custom_target(vendor_develop)

add_dependencies(vendor vendor_develop)
add_dependencies(vendor_develop vendor_product)

if(BUILD_TEST)
  append_project_var(vendor_develop_INCLUDE_DIRS
    ${PROJECT_SOURCE_DIR}/vendor
  )
endif()
